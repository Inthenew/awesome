(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var o,r=n(0),a=n(25),c=n.n(a),s=n(8),i=n(9),l=n(15),u=n(11),d=n(10),h=n(18),j=n(5),b=n(13),m=n.n(b),g=n(21),p=n(93),f=n(95),O=n(94),v=n(19),y=n(26),x=n.n(y),k=n(1),w=v.a.div(o||(o=Object(g.a)(["\n  .navbar { background-color: #222; }\n  a, .navbar-nav, .navbar-light .nav-link {\n    color: #9FFFCB;\n    &:hover { color: white; }\n  }\n  #c {\n      margin-left: 5%;\n  }\n  .navbar-brand {\n    font-size: 1.4em;\n    color: #9FFFCB;\n    &:hover { color: white; }\n  }\n  #form-center {\n    position: absolute !important;\n    left: 25%;\n    top: 15px;\n    right: 25%;\n  }\n"])));window.innerWidth;function S(e){if(13===e.keyCode){var t=document.getElementById("search").value;window.location="".concat(location.protocol,"/#/search/?q=").concat(t)}}setTimeout((function(){document.getElementById("basic-navbar-nav").style.marginLeft="5%",document.getElementById("navbr").style.backgroundColor="gray",document.getElementById("navbr").style.textAlign="center",x()(".co").css({whiteSpace:"norap",overflowY:"hidden",marginLeft:"-6%"}),x()(".coC").css({display:"inline-block",width:"50px",height:"100%"})}),400);var C,I,L,B,N,E,z,T,U,D=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(i.a)(n,[{key:"render",value:function(){return Object(k.jsx)(w,{children:Object(k.jsxs)(p.a,{id:"navbr",expand:"exlg",children:[Object(k.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(k.jsx)("div",{id:"form-center",children:Object(k.jsx)(f.a,{type:"text",placeholder:"Search",className:"",id:"search",onKeyDown:S})}),Object(k.jsxs)(p.a.Collapse,{id:"basic-navbar-nav",children:[Object(k.jsx)("hr",{}),Object(k.jsx)(O.a,{id:"nav",className:"ml-auto",children:Object(k.jsx)(O.a.Item,{children:Object(k.jsxs)("div",{className:"co",children:[Object(k.jsx)(O.a.Link,{style:{fontSize:"1rem"},className:"coC",id:"1",href:"/#",children:"Home"}),Object(k.jsx)(O.a.Link,{style:{fontSize:"1rem"},className:"coC",id:"2",href:"/#/signup",children:"Signup"}),Object(k.jsx)(O.a.Link,{style:{fontSize:"1rem"},className:"coC",id:"4",href:"/#/login",children:"Login"}),Object(k.jsx)(O.a.Link,{style:{fontSize:"1rem"},className:"coC",id:"5",href:"/#/logout",children:"Logout"}),Object(k.jsx)(O.a.Link,{style:{fontSize:"1rem"},className:"coC",id:"6",href:"/#/main",children:"Main"})]})})})]})]})})}}]),n}(r.Component),F=n(92),A=v.a.div(C||(C=Object(g.a)(["\n    .form-center {\n        position: absolute !important;\n        left: 25%;\n        right: 25%;\n    }\n"]))),M=function(e){document.getElementById("errContanier").innerHTML=String(e)},K=function(e,t,n){m.a.get("/api/users").then((function(o){for(var r=0;r<o.data.length;r++)if(o.data[r].username===e)return void M("username exists");n.logedIn(n.getUsername())?M("Your already logged in!"):(console.log(e),m.a.post("/api/users",{username:e,password:t,sS:!1,fS:!0}).then((function(n){m.a.post("/api/sessions",{username:e,password:t}).then((function(n){console.log("Success!"),console.log(n),M("Your signed in"),console.log(I),I.dispatch({type:"Login",username:e,password:t,cookies:0}),window.location="".concat(location.protocol,"/#/main")})).catch((function(e){console.error(e)}))})).catch((function(e){console.error("Theres an err with checking if you are already logged in: ".concat(e))})))})).catch((function(e){console.error(e)}))},Y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={username:"stranger",password:"unknown"},L=Object(l.a)(o),I=o.props.store,o}return Object(i.a)(n,[{key:"onKeyDown",value:function(e){13===e.keyCode&&K(document.getElementById("username").value,document.getElementById("password").value,L)}},{key:"logedIn",value:function(e){return void 0!==e}},{key:"getUsername",value:function(){if(void 0!==I.getState()){if("Stranger"===I.getState().username)return;return I.getState().username}if(document.cookie.length>0){var e=parseDocumentCookie(),t=e.username;e.password;return t}}},{key:"getPassword",value:function(){if(void 0!==I.getState()){if("Stranger"===I.getState().username)return;return I.getState().username}if(document.cookie.length>0){var e=parseDocumentCookie();e.username;return e.password}}},{key:"handleClick",value:function(e){K(document.getElementById("username").value,document.getElementById("password").value,L)}},{key:"render",value:function(){return Object(k.jsx)(A,{children:Object(k.jsx)("div",{children:Object(k.jsxs)("div",{style:{textAlign:"center"},children:[Object(k.jsx)("h1",{children:"Signup:"}),Object(k.jsx)("hr",{}),Object(k.jsxs)("div",{className:"form-center",children:[Object(k.jsx)(f.a,{type:"text",placeholder:"username",className:"username",id:"username"}),Object(k.jsx)(f.a,{type:"password",placeholder:"password",className:"password",id:"password",onKeyDown:this.onKeyDown}),Object(k.jsx)(F.a,{bsStyle:"success",bsSize:"lg",onClick:this.handleClick,onTouchStart:this.handleClick,block:!0,type:"sumbit",children:"Signup"}),Object(k.jsx)("p",{id:"errContanier"})]})]})})})}}]),n}(r.Component),H=v.a.div(B||(B=Object(g.a)(["\n    .form-center {\n        position: absolute !important;\n        left: 25%;\n        right: 25%;\n    }\n"]))),J=function(e){document.getElementById("errContanier").innerHTML=String(e)},P=function(e,t,n){m.a.get("/api/users").then((function(n){for(var o=0,r=!1;o<n.data.length;){if(n.data[o].username===e&&n.data[o].password===t){r=!0;break}o++}r?m.a.get("/api/sessions").then((function(n){var o=0;for(console.log(n.data);o<n.data.length;){if(n.data[o].username===e&&n.data[o].password===t)return void J("Your already logged in!");o++}m.a.post("/api/sessions",{username:e,password:t}).then((function(n){console.log("Success!"),J("Your logged in"),console.log(N),N.dispatch({type:"Login",username:e,password:t}),window.location="".concat(location.protocol,"/#/main")})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)})):J("Incorrect username or password")})).catch((function(e){console.error(e)}))},R=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={username:"stranger",password:"unknown"},N=o.props.store,Object(l.a)(o),o}return Object(i.a)(n,[{key:"onKeyDown",value:function(e){13===e.keyCode&&P(document.getElementById("username").value,document.getElementById("password").value)}},{key:"handleClick",value:function(e){P(document.getElementById("username").value,document.getElementById("password").value)}},{key:"render",value:function(){return Object(k.jsx)(H,{children:Object(k.jsx)("div",{children:Object(k.jsxs)("div",{style:{textAlign:"center"},children:[Object(k.jsx)("h1",{children:"Login:"}),Object(k.jsx)("hr",{}),Object(k.jsxs)("div",{className:"form-center",children:[Object(k.jsx)(f.a,{type:"text",placeholder:"username",className:"username",id:"username"}),Object(k.jsx)(f.a,{type:"password",placeholder:"password",className:"password",id:"password",onKeyDown:this.onKeyDown}),Object(k.jsx)(F.a,{bsStyle:"success",bsSize:"lg",onClick:this.handleClick,onTouchStart:this.handleClick,block:!0,type:"sumbit",children:"Login"}),Object(k.jsx)("p",{id:"errContanier"})]})]})})})}}]),n}(r.Component),_=v.a.div(E||(E=Object(g.a)(["\n .modal {\n                display: none; /* Hidden by default */\n                position: fixed; /* Stay in place */\n                z-index: 1; /* Sit on top */\n                padding-top: 10rem; /* Location of the box */\n                left: 0;\n                top: 0;\n                width: 100%; /* Full width */\n                height: 100%; /* Full height */\n                overflow: auto; /* Enable scroll if needed */\n                background-color: rgb(0,0,0); /* Fallback color */\n                background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n              }\n\n              /* Modal Content */\n              .modal-content {\n                background-color: #fefefe;\n                margin: auto;\n                padding: 4rem;\n                border: 0.1rem solid #888;\n                width: 80%;\n                height: 40%;\n                text-align: center;\n              }\n\n              /* The Close Button */\n              .close {\n                color: #aaaaaa;\n                float: right;\n                font-size: 2.8rem;\n                font-weight: bold;\n              }\n\n              .close:hover,\n              .close:focus {\n                color: #000;\n                text-decoration: none;\n                cursor: pointer;\n              }\n              #content {\n                color: darkred;\n              }\n"]))),W=function(){var e={};return document.cookie.split(";").map((function(e){return e.trim().split("=").map(decodeURIComponent)})).reduce((function(t,n){try{t[n[0]]=JSON.parse(n[1])}catch(o){t[n[0]]=n[1]}return e=t,t}),{}),e},q=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),o=t.call(this,e),z=Object(l.a)(o),T=o.props.store,o}return Object(i.a)(n,[{key:"handleText",value:function(e){x()("#content").text(String(e))}},{key:"getUsername",value:function(){if(void 0!==T.getState())return T.getState().username;if(document.cookie.length>0){var e=W(),t=e.username;e.password;return t}}},{key:"getPassword",value:function(){if(void 0!==T.getState())return T.getState().username;if(document.cookie.length>0){var e=W(),t=(e.username,e.password);return console.log(t),t}}},{key:"parseDocumentCookie",value:function(){var e={};return document.cookie.split(";").map((function(e){return e.trim().split("=").map(decodeURIComponent)})).reduce((function(t,n){try{t[n[0]]=JSON.parse(n[1])}catch(o){t[n[0]]=n[1]}return e=t,t}),{}),e}},{key:"logOut",value:function(){void 0!==z.getUsername()&&m.a.delete("/api/sessions",{username:z.getUsername(),password:z.getPassword()}).then((function(e){T.dispatch({type:"Logout"}),z.handleText("Logged out successfully")})).catch((function(e){z.handleText("There has been an error"),console.error(e)}))}},{key:"f",value:function(e){var t=document.getElementById("myModal");window.onclick=function(e){e.target==t&&(t.style.display="none")},window.ontouchstart=function(e){e.target==t&&(t.style.display="none")},document.getElementById("myModal").style.display="block"}},{key:"render",value:function(){return Object(k.jsx)(_,{children:Object(k.jsxs)("div",{style:{textAlign:"center"},children:[Object(k.jsx)("h2",{children:"Logout"}),Object(k.jsx)("hr",{}),Object(k.jsx)(F.a,{bsStyle:"success",id:"delete",bsSize:"large",onClick:this.f,onTouchStart:this.f,href:"",target:"_blank",children:"Logout"}),Object(k.jsx)("div",{id:"prompt",children:Object(k.jsx)("div",{id:"myModal",className:"modal",children:Object(k.jsxs)("div",{className:"modal-content",children:[Object(k.jsx)(F.a,{bsStyle:"success",bsSize:"small",href:"",onClick:this.logOut,onTouchStart:this.logOut,target:"_blank",id:"sure",className:"send",children:"are you sure you want to logout?"}),Object(k.jsx)("p",{id:"content"})]})})})]})})}}]),n}(r.Component),G=(n.p,function(){var e={};return document.cookie.split(";").map((function(e){return e.trim().split("=").map(decodeURIComponent)})).reduce((function(t,n){try{t[n[0]]=JSON.parse(n[1])}catch(o){t[n[0]]=n[1]}return e=t,t}),{}),e}),Q=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),o=t.call(this,e),Object(l.a)(o),U=o.props.store,o}return Object(i.a)(n,[{key:"logedIn",value:function(e){return void 0!==e}},{key:"getUsername",value:function(){if(void 0!==U.getState()){if("Stranger"===U.getState().username)return;return U.getState().username}if(document.cookie.length>0){var e=G(),t=e.username;e.password;return t}}},{key:"getPassword",value:function(){if(void 0!==U.getState()){if("Stranger"===U.getState().username)return;return U.getState().username}if(document.cookie.length>0){var e=G();e.username;return e.password}}},{key:"render",value:function(){return this.logedIn(this.getUsername())?(window.username=this.getUsername(),window.password=this.getPassword(),Object(k.jsxs)("div",{style:{textAlign:"center"},children:[Object(k.jsx)("h2",{children:"Main"}),Object(k.jsx)("hr",{}),Object(k.jsx)("h4",{children:window.username})]})):Object(k.jsxs)("div",{style:{textAlign:"center"},children:[Object(k.jsx)("h2",{children:"Your not logged in!"}),Object(k.jsx)("hr",{}),Object(k.jsx)("a",{href:"/#/login",children:Object(k.jsx)(F.a,{bsStyle:"success",bsSize:"large",href:"",target:"_blank",children:"Login"})})]})}}]),n}(r.Component),V=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(i.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("div",{style:{textAlign:"center"},children:[Object(k.jsx)("h2",{children:"Home"}),Object(k.jsx)("hr",{}),Object(k.jsx)("h4",{children:"Welcome to my app"}),Object(k.jsx)("p",{style:{fontSize:"1rem"},children:"Hello"}),Object(k.jsx)("a",{href:"/#/signup",children:Object(k.jsx)(F.a,{bsStyle:"success",bsSize:"large",href:"",target:"_blank",children:"Signup"})}),"        ",Object(k.jsx)("a",{href:"/#/login",children:Object(k.jsx)(F.a,{bsStyle:"success",bsSize:"large",href:"",target:"_blank",children:"Login"})})]})}}]),n}(r.Component);function X(e){for(var t=e,n=0;n<e.length;)"%"===t[n]&&"2"===t[n+1]&&"0"===t[n+2]&&(t=t.slice(0,n)+" "+t.slice(n+3,t.length)),n++;return t}var Z=X(document.URL.slice(location.protocol.length+29,location.length)),$=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={search:Z},setInterval((function(){Z=X(document.URL.slice(location.protocol.length+29,location.length)),o.state.search!==Z&&o.setState((function(e){return{search:Z}}))}),100),o}return Object(i.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("div",{style:{textAlign:"center"},children:[Object(k.jsx)("h2",{children:"Search"}),Object(k.jsx)("hr",{}),Object(k.jsxs)("h4",{children:["You searched: ",Z]})]})}}]),n}(r.Component),ee=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),o=t.call(this,e),Object(l.a)(o),o.props.store,o}return Object(i.a)(n,[{key:"render",value:function(){return Object(k.jsxs)(h.a,{children:[" ",Object(k.jsxs)("div",{children:[Object(k.jsx)(D,{}),Object(k.jsx)(j.a,{path:"/signup",children:Object(k.jsx)(Y,{store:this.props.store})}),Object(k.jsx)(j.a,{path:"/main",children:Object(k.jsx)(Q,{store:this.props.store})}),Object(k.jsx)(j.a,{path:"/login",children:Object(k.jsx)(R,{store:this.props.store})}),Object(k.jsx)(j.a,{path:"/logout",children:Object(k.jsx)(q,{store:this.props.store})}),Object(k.jsx)(j.a,{path:"/search",children:Object(k.jsx)($,{store:this.props.store})}),Object(k.jsx)(j.a,{exact:!0,path:"/",children:Object(k.jsx)(V,{})})]})," "]})}}]),n}(r.Component),te=n(54),ne=(n(87),n(88),n(89),Object(te.a)((function(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"Login":return{username:e.username,password:e.password,cookies:e.cookies};case"Logout":return{username:void 0,password:void 0,cookies:0}}})));c.a.render(Object(k.jsx)(ee,{store:ne}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.6099efa7.chunk.js.map